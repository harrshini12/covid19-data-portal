{"ast":null,"code":"import _regeneratorRuntime from\"/Users/harrshinib/Desktop/Aaron.ai/covid-data-portal/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/harrshinib/Desktop/Aaron.ai/covid-data-portal/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/harrshinib/Desktop/Aaron.ai/covid-data-portal/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from'react';import axios from'axios';import{Chart}from'react-chartjs-2';import'chart.js/auto';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Summary=function Summary(_ref){var selectedCountry=_ref.selectedCountry;var _useState=useState(null),_useState2=_slicedToArray(_useState,2),summary=_useState2[0],setSummary=_useState2[1];useEffect(function(){var fetchSummary=/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var url,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.prev=0;url='http://localhost:3000/';if(selectedCountry){url+=\"specificcountryinfo/\".concat(selectedCountry);}else{url+='cases';}_context.next=5;return axios.get(url);case 5:response=_context.sent;setSummary(response.data);_context.next=12;break;case 9:_context.prev=9;_context.t0=_context[\"catch\"](0);console.error(_context.t0);case 12:case\"end\":return _context.stop();}},_callee,null,[[0,9]]);}));return function fetchSummary(){return _ref2.apply(this,arguments);};}();fetchSummary();},[selectedCountry]);return/*#__PURE__*/_jsxs(\"div\",{className:\"my-4\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"mb-4 text-center\",children:\"Summary\"}),summary?/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:selectedCountry?/*#__PURE__*/_jsxs(\"div\",{className:\"row m-4\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsxs(\"ul\",{className:\"list-group\",children:[/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Country:\"}),\" \",selectedCountry]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Cases:\"}),\" \",summary.cases]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Deaths:\"}),\" \",summary.deaths]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Today's Cases:\"}),\" \",summary.todayCases]}),/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Today's Deaths:\"}),\" \",summary.todayDeaths]})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"div\",{className:\"chart-container\",style:{width:'200%',height:'300px',marginLeft:'20px'},children:/*#__PURE__*/_jsx(Chart,{type:\"pie\",data:getChartData(summary),options:getChartOptions()})})})]}):/*#__PURE__*/_jsx(\"div\",{className:\"col-md-6\",children:/*#__PURE__*/_jsx(\"ul\",{className:\"list-group\",children:/*#__PURE__*/_jsxs(\"li\",{className:\"list-group-item\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Total Cases:\"}),\" \",summary.cases]})})})}):/*#__PURE__*/_jsx(\"p\",{children:\"Loading summary...\"})]});};var getChartData=function getChartData(summary){var chartData={labels:['Cases','Deaths'],datasets:[{data:[summary.cases,summary.deaths],backgroundColor:['#FF6384','#36A2EB'],hoverBackgroundColor:['#FF6384','#36A2EB']}]};return chartData;};var getChartOptions=function getChartOptions(){var chartOptions={plugins:{datalabels:{display:true,color:'#fff',font:{weight:'bold'},formatter:function formatter(value){return value.toLocaleString();}}}};return chartOptions;};export default Summary;","map":{"version":3,"names":["React","useState","useEffect","axios","Chart","jsx","_jsx","jsxs","_jsxs","Summary","_ref","selectedCountry","_useState","_useState2","_slicedToArray","summary","setSummary","fetchSummary","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","url","response","wrap","_callee$","_context","prev","next","concat","get","sent","data","t0","console","error","stop","apply","arguments","className","children","cases","deaths","todayCases","todayDeaths","style","width","height","marginLeft","type","getChartData","options","getChartOptions","chartData","labels","datasets","backgroundColor","hoverBackgroundColor","chartOptions","plugins","datalabels","display","color","font","weight","formatter","value","toLocaleString"],"sources":["/Users/harrshinib/Desktop/Aaron.ai/covid-data-portal/src/components/Summary.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Chart } from 'react-chartjs-2';\nimport 'chart.js/auto';\n\nconst Summary = ({ selectedCountry }) => {\n  const [summary, setSummary] = useState(null);\n\n  useEffect(() => {\n    const fetchSummary = async () => {\n      try {\n        let url = 'http://localhost:3000/';\n        if (selectedCountry) {\n          url += `specificcountryinfo/${selectedCountry}`;\n        } else {\n          url += 'cases';\n        }\n\n        const response = await axios.get(url);\n        setSummary(response.data);\n      } catch (error) {\n        console.error(error);\n      }\n    };\n\n    fetchSummary();\n  }, [selectedCountry]);\n\n  return (\n    <div className=\"my-4\">\n      <h2 className=\"mb-4 text-center\">Summary</h2>\n      {summary ? (\n        <div className=\"row\">\n          {selectedCountry ? (\n            <div className=\"row m-4\">\n              <div className=\"col-md-6\">\n                <ul className=\"list-group\">\n                  <li className=\"list-group-item\">\n                    <strong>Country:</strong> {selectedCountry}\n                  </li>\n                  <li className=\"list-group-item\">\n                    <strong>Total Cases:</strong> {summary.cases}\n                  </li>\n                  <li className=\"list-group-item\">\n                    <strong>Total Deaths:</strong> {summary.deaths}\n                  </li>\n                  <li className=\"list-group-item\">\n                    <strong>Today's Cases:</strong> {summary.todayCases}\n                  </li>\n                  <li className=\"list-group-item\">\n                    <strong>Today's Deaths:</strong> {summary.todayDeaths}\n                  </li>\n                </ul>\n              </div>\n              <div className=\"col-md-6\">\n                <div\n                  className=\"chart-container\"\n                  style={{ width: '200%', height: '300px', marginLeft: '20px' }}\n                >\n                  <Chart\n                    type=\"pie\"\n                    data={getChartData(summary)}\n                    options={getChartOptions()}\n                  />\n                </div>\n              </div>\n            </div>\n          ) : (\n            <div className=\"col-md-6\">\n              <ul className=\"list-group\">\n                <li className=\"list-group-item\">\n                  <strong>Total Cases:</strong> {summary.cases}\n                </li>\n              </ul>\n            </div>\n          )}\n        </div>\n      ) : (\n        <p>Loading summary...</p>\n      )}\n    </div>\n  );\n};\n\nconst getChartData = (summary) => {\n  const chartData = {\n    labels: ['Cases', 'Deaths'],\n    datasets: [\n      {\n        data: [summary.cases, summary.deaths],\n        backgroundColor: ['#FF6384', '#36A2EB'],\n        hoverBackgroundColor: ['#FF6384', '#36A2EB'],\n      },\n    ],\n  };\n  return chartData;\n};\n\nconst getChartOptions = () => {\n  const chartOptions = {\n    plugins: {\n      datalabels: {\n        display: true,\n        color: '#fff',\n        font: {\n          weight: 'bold',\n        },\n        formatter: (value) => value.toLocaleString(),\n      },\n    },\n  };\n  return chartOptions;\n};\n\nexport default Summary;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}